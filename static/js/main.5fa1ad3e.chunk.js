(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],{27:function(e,t,a){},40:function(e,t,a){e.exports=a(69)},45:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=(a(45),a(11)),i=a(2),u=(a(27),a(9)),s=a.n(u),m=a(14),v=a(7),E=a(15),f=a.n(E),d=a(10),p=a.n(d),b=a(16);var h=function(e){var t=e.movieId,a=e.favourite;console.log("favourite movie",t);var c=Object(b.b)();return Object(n.useEffect)((function(){return t&&c(function(e,t){return function(){var a=Object(m.a)(s.a.mark((function a(n,r){var c,l,o,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.get("https://www.omdbapi.com/?apikey=b1b1c505&i="+e);case 2:c=a.sent,l=c.data,n({type:"ADD_TO_FAVOURITE",payload:{movie:e,name:l.Title,duration:l.Runtime,released:l.Released,genre:l.Genre,rating:l.imdbRating,favourite:t}}),o=r(),i=o.favMovies,p.a.set("favMovies",JSON.stringify(i));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}(t,a)),function(){}}),[]),r.a.createElement("div",null)};var O=function(e){var t=e.data,a=e.active,c=e.type,l=Object(n.useState)(!1),i=Object(v.a)(l,2),u=i[0],s=i[1];return console.log(t),Object(n.useEffect)((function(){return s(!1),function(){}}),[t]),r.a.createElement("div",{className:"center"},a?t.Title?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement(o.b,{to:"/movie/".concat(t.imdbID),style:{color:"yellow"}},r.a.createElement("h3",{style:{fontWeight:"bolder"}},t.Title))),r.a.createElement("div",{className:"card-container"},r.a.createElement("h3",null,"Duration:",r.a.createElement("span",{style:{color:"black"}},r.a.createElement("i",null,t.Runtime))),r.a.createElement("h3",null,"Genre:",r.a.createElement("span",{style:{color:"black"}},r.a.createElement("i",null,t.Genre))),r.a.createElement("h3",null,"Release data:",r.a.createElement("span",{style:{color:"black"}},r.a.createElement("i",null,t.Released))),r.a.createElement("button",{onClick:function(){s(!u)}},u?"Not favourite":"Favourite"))):r.a.createElement("h2",null,c," not found"):null,u&&r.a.createElement(h,{movieId:t.imdbID,favourite:u}))};var y=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("https://www.omdbapi.com/?apikey=b1b1c505"),o=Object(v.a)(l,2),i=o[0],u=o[1],E=Object(n.useState)(""),d=Object(v.a)(E,2),p=d[0],b=d[1],h=Object(n.useState)(!1),y=Object(v.a)(h,2),g=y[0],w=y[1],j=Object(n.useState)("movie"),M=Object(v.a)(j,2),N=M[0],k=M[1],R=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(i+"&t=".concat(a));case 2:t=e.sent,n=t.data,b(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("ul",{className:"filter"},r.a.createElement("li",null,r.a.createElement("input",{type:"text",placeholder:"enter key words",onChange:function(e){c(e.target.value)}})),r.a.createElement("li",null,r.a.createElement("div",{className:"dropdown-content",onChange:function(e){u(i+"&type=".concat(e.target.value)),k(e.target.value)}},r.a.createElement("select",{name:"sortOrder"},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"movie"},"Movies"),r.a.createElement("option",{value:"series"},"Series"),r.a.createElement("option",{value:"episode"},"Episodes")))),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){R(),u("https://www.omdbapi.com/?apikey=b1b1c505"),w(!0)}},"Search"))))),r.a.createElement(O,{data:p,active:g,type:N}))};var g=function(){var e={color:"white"};return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(o.b,{to:"/movieapp/",style:e},r.a.createElement("h3",{className:"link-style"},"Home")),r.a.createElement("ul",{className:"ul-items"},r.a.createElement(o.b,{to:"/movieapp/favourite",style:e},r.a.createElement("li",{className:"link-style"},"Favourites")))))};var w=function(e){var t=Object(n.useState)(!0),a=Object(v.a)(t,2),c=a[0],l=a[1],o=(p.a.getJSON("favMovies")||[]).favMovies;console.log("testdata",o);var i=Object(b.b)(),u=function(e){i(function(e){return function(t,a){t({type:"REMOVE_FROM_FAVOURITE",payload:e});var n=a().favMovies;p.a.set("favMovies",JSON.stringify(n))}}(e)),l(!c)};return r.a.createElement("div",{className:"container-fav"},0===o.length?r.a.createElement("h3",null,"No favourite movie added"):o.map((function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,e.name)),r.a.createElement("div",{className:"card-container"},r.a.createElement("h3",null,"Duration:",r.a.createElement("span",{style:{color:"black"}},r.a.createElement("i",null,e.duration))),r.a.createElement("h3",null,"Genre:",r.a.createElement("span",{style:{color:"black"}},r.a.createElement("i",null,e.genre))),r.a.createElement("h3",null,"Release data:",r.a.createElement("span",{style:{color:"black"}},r.a.createElement("i",null,e.released))),r.a.createElement("button",{onClick:function(){return u(e.movie)}},c?"Remove from favourite":"Removed from favourite")))})))},j=a(12),M=a(38),N=a(39);var k={favmovies:{favMovies:p.a.getJSON("favMovies")||[]}},R=Object(j.c)({favMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favMovies:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_FAVOURITE":var a=t.payload,n=e.favMovies.find((function(e){return e.movie===a.movie}));return n?{favMovies:e.favMovies.map((function(e){return e.movie===n.movie?a:e}))}:{favMovies:[].concat(Object(N.a)(e.favMovies),[a])};case"REMOVE_FROM_FAVOURITE":return{favMovies:e.favMovies.filter((function(e){return e.movie!==t.payload}))};default:return e}}}),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,_=Object(j.e)(R,k,S(Object(j.a)(M.a))),D=function(e){console.log("last",e);var t=Object(n.useState)({}),a=Object(v.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){return o(),function(){}}),[]);var o=function(){var t=Object(m.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://www.omdbapi.com/?apikey=b1b1c505&i="+e.match.params.id);case 2:a=t.sent,n=a.data,l(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=c.Title,u=c.Runtime,E=c.Released,d=c.Country,p=c.Genre,b=c.Language,h=c.imdbRating;return r.a.createElement("div",{className:"container-detail"},r.a.createElement("div",null,r.a.createElement("h2",null,"Movie Title: ",i),r.a.createElement("h3",null,"Duration: ",u),r.a.createElement("h3",null,"Release Date: ",E),r.a.createElement("h3",null,"Origin Country: ",d),r.a.createElement("h3",null,"Genre: ",p),r.a.createElement("h3",null,"Language: ",b),r.a.createElement("h3",null,"IMDB Rating: ",h)))};var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(b.a,{store:_},r.a.createElement(g,null),r.a.createElement(i.a,{path:"/movieapp/",exact:!0,component:y}),r.a.createElement(i.a,{path:"/movieapp/favourite",component:w}),r.a.createElement(i.a,{path:"/movieapp/movie/:id",component:D}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.5fa1ad3e.chunk.js.map